<ui:composition
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:cc="http://java.sun.com/jsf/composite"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:sb="http://superbitsframework/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="email"
                      type="com.super_bits.Casa_Nova.Intranet_Marketing_Digital.model.dados.crm.mail.EmailCrm" />
        <cc:attribute name="somenteLeitura"
                      type="java.lang.Boolean" required="true"/>
        <cc:attribute name="largura" default="30px"/>
        <cc:attribute name="altura" default="30" />
    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <h:panelGroup
            rendered="#{cc.attrs.email.prospecto!=null}"
            layout="block" style=" width: 100%;
            display: -webkit-flex;
            -webkit-flex-direction: column;
            justify-content: center;
            display: -webkit-box;
            display: -moz-box;
            box-lines: multiple;
            margin: 10px;
            height: 100px;
            padding: 5px;
            /* Material design properties */
            background: #fff;
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
            margin-top: 15px; background-color: #423e3e6b;">
            <h:panelGroup styleClass="FontAdamantiumBold Fs16" style="color: #ffffff; margin-top: 10px;"  layout="span">Destinatário:</h:panelGroup>
            <h:panelGroup layout="block" styleClass="Fright" >
                <p:commandLink actionListener="#{servicoEmail.removerDestinatario(cc.attrs.email)}"
                               onstart="bloquearArea('#{pgUtil.gerarCaminhoCompletoID('campo-email-para')}')"
                               onsuccess="desbloquearArea('#{pgUtil.gerarCaminhoCompletoID('campo-email-para')}')"
                               update="#{pgUtil.gerarCaminhoCompletoID('compEmailPara')} #{pgUtil.gerarCaminhoCompletoID('resumoDestino')}"
                               >  <span class="fa fa-close Fs16 blue-twitter" > </span></p:commandLink>
            </h:panelGroup>
            <img class="avatarEmail"  src="#{cc.attrs.email.prospecto.imgPequena}"
                 style="max-height:#{cc.attrs.altura}px; max-width:#{cc.attrs.largura};border-radius: 100%;  "
                 />

            <h:panelGroup
                rendered="#{cc.attrs.email.comoEnvioEmail.contatos.size()>0}"
                styleClass="FontAdamantiumRegular Container12"
                style="color: #ffffff; margin-top: 10px;"
                layout="block"> #{cc.attrs.email.comoEnvioEmail.contatos.get(0).nome}
                <h:panelGroup styleClass="FontAdamantiumBold Fs16" style="color: #ffffff; margin-top: 10px;"  layout="span">+ #{cc.attrs.email.comoEnvioEmail.contatos.size()-1} em cópia</h:panelGroup>
            </h:panelGroup>


        </h:panelGroup>


        <p:avatar gravatar="#{cc.attrs.email.prospecto.umaPessoaFisica}"
                  rendered="#{cc.attrs.email.umEmailAtivo and cc.attrs.email.comoEnvioEmail.prospecto.umaPessoaFisica}"
                  size="30" />



    </cc:implementation>
</ui:composition>

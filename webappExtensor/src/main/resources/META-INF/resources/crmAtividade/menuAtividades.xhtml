<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:cc="http://java.sun.com/jsf/composite"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:SBInput="http://xmlns.jcp.org/jsf/composite/SBComp/composite/input"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!-- INTERFACE -->
    <cc:interface>

        <cc:attribute name="pesquisa"
                      type="br.org.carameloCode.erp.modulo.crm.entidadesJPA.Atividade.pesquisaAtividade.PesquisaAtividade"
                      required="true"/>
    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>


        <p:megaMenu orientation="horizontal" autoDisplay="true"  >

            <p:submenu label="#{cc.attrs.pesquisa.getCampoByNomeOuAnotacao('textoIntervaloDatas').valor}" >



            </p:submenu>
            <p:submenu label="#{cc.attrs.pesquisa.usuario.nome}" disabled="true"  >
                <p:column>
                    <p:submenu label="UsuÃ¡rios disponiveis" disabled="true" >
                        <c:forEach items="#{cc.attrs.pesquisa.getCampoInstanciadoByNomeOuAnotacao('usuariosDisponiveis').valor}"
                                   var="usuario" >

                            <p:menuitem value="#{usuario.nome}"
                                        update="@form #{pgUtil.gerarCaminhoCompletoID('gridListagemMeusProspets')}"
                                        >
                                <f:setPropertyActionListener target="#{cc.attrs.pesquisa.usuario}"

                                                             value="#{usuario}" />
                            </p:menuitem>




                        </c:forEach>
                    </p:submenu>
                </p:column>

            </p:submenu>





            <p:submenu label="#{cc.attrs.pesquisa.tipoRelacionamento==null ? 'Todas etapas': cc.attrs.pesquisa.tipoRelacionamento.nome} "  rendered="#{cc.attrs.pesquisa.metaRelacionamento!=null}"  >
                <p:column>
                    <p:submenu label="Relacionamentos disponiveis">
                        <c:forEach items="#{cc.attrs.pesquisa.getCampoInstanciadoByNomeOuAnotacao('tiposDeRelacionamentoDisponivel').valor}"
                                   var="tipoRelacionamento" >
                            <p:menuitem value="#{tipoRelacionamento.nome}"
                                        update="@form #{pgUtil.gerarCaminhoCompletoID('gridListagemMeusProspets')}"
                                        >
                                <f:setPropertyActionListener target="#{cc.attrs.pesquisa.tipoRelacionamento}"
                                                             value="#{tipoRelacionamento}" />
                            </p:menuitem>
                        </c:forEach>
                    </p:submenu>
                </p:column>
            </p:submenu>










        </p:megaMenu>

    </cc:implementation>
</ui:composition>











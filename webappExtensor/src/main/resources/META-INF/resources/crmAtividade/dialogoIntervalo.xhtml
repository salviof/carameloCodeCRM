<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:cc="http://java.sun.com/jsf/composite"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    <!-- INTERFACE -->
    <cc:interface>

        <cc:attribute name="pesquisa"
                      type="br.org.carameloCode.erp.modulo.crm.entidadesJPA.prospecto.pesquisaLead.PesquisaLead"
                      required="true"/>
    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>


        <p:dialog header="Defina a data inicial e final" widgetVar="defineIntervalo" id="defineIntervalo" style="z-index: 100!important;"
                  dynamic="false"
                  >
            <p:fieldset >
                <h:form>
                    <h:panelGrid columns="1"
                                 class="InputSBSuperior campoSB"
                                 >
                        <p:outputLabel
                            value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datainicial').label}"
                            for="#{pgUtil.gerarCaminhoCompletoID('datainicialLeads')}"
                            />
                        <p:datePicker
                            id="datainicialLeads"
                            validator="org.super_bits.view.validadores.genericoDatas"
                            locale="pt_BR"
                            required="true"
                            value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datainicial').valor}"
                            styleClass="campoResponsivo  TexAlCenter"
                            converter="conversorData"
                            requiredMessage="A data inicial não foi informada! "

                            >
                            <f:passThroughAttribute name="caminhoCampo" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datainicial').nomeCompostoIdentificador}" />
                            <f:passThroughAttribute name="dominio" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datainicial').nomeClasseOrigemAtributo}" />
                            <f:passThroughAttribute name="campoInstanciado" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datainicial')}" />
                            <p:ajax
                                event="dateSelect"
                                update="@form"/>
                        </p:datePicker>
                        <p:message
                            for="#{pgUtil.gerarCaminhoCompletoID('datainicialLeads')}"
                            />
                    </h:panelGrid>


                    <h:panelGrid columns="1"
                                 class="InputSBSuperior campoSB"
                                 >
                        <p:outputLabel
                            value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datafinal').label}"
                            for="#{pgUtil.gerarCaminhoCompletoID('dataFinalLeads')}"
                            />
                        <p:datePicker
                            id="dataFinalLeads"
                            validator="org.super_bits.view.validadores.genericoDatas"
                            locale="pt_BR"
                            required="true"
                            value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datafinal').valor}"
                            styleClass="campoResponsivo  TexAlCenter"
                            converter="conversorData"
                            requiredMessage="A data inicial não foi informada! "
                            >
                            <f:passThroughAttribute name="caminhoCampo" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datafinal').nomeCompostoIdentificador}" />
                            <f:passThroughAttribute name="dominio" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datafinal').nomeClasseOrigemAtributo}" />
                            <f:passThroughAttribute name="campoInstanciado" value="#{pgAtividades.pesquisaAtividade.getCampoInstanciadoByNomeOuAnotacao('datafinal')}" />
                            <p:ajax
                                event="dateSelect"
                                update="@form"/>
                        </p:datePicker>
                        <p:message
                            for="#{pgUtil.gerarCaminhoCompletoID('dataFinalLeads')}"
                            />
                    </h:panelGrid>
                    <p:commandButton value="Atualizar"
                                     onsuccess="PF('defineIntervalo').hide()"

                                     update="#{pgUtil.gerarCaminhoCompletoID('menuFiltroLeads')} #{pgUtil.gerarCaminhoCompletoID('gridListagemMeusProspets')}"
                                     process="@form"
                                     actionListener="#{pgUtil.enviaMensagem('teste')}"
                                     />
                </h:form>
            </p:fieldset>

        </p:dialog>

    </cc:implementation>
</ui:composition>

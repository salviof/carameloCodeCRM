<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:cc="http://java.sun.com/jsf/composite"
    xmlns:p="http://primefaces.org/ui"
    xmlns:CRM="http://xmlns.jcp.org/jsf/composite/crm"
    xmlns:SBInput="http://xmlns.jcp.org/jsf/composite/SBComp/composite/input"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="empresa"
                      type="br.org.carameloCode.erp.modulo.crm.entidadesJPA.prospecto.PessoaJuridica" required="true"/>

        <cc:attribute name="tipoVisualizacaoCampo"  required="true" />
    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <style>
            .empresa-card {
                width: 100%;
                max-width: 320px;
                margin-bottom: 16px;
                background: #fff;
                border-radius: 12px;
                padding: 16px;
                box-shadow: 0 2px 8px rgba(0,0,0,.08);
                transition: .25s ease;
            }

            .empresa-card:hover {
                box-shadow: 0 4px 16px rgba(0,0,0,.14);
            }

            .empresa-nome {
                font-size: 1.2rem;
                font-weight: 300;
                margin-bottom: 8px;
                color: #2d2d2d;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: wrap;
            }

            .info-line {
                display: flex;
                align-items: center;
                margin-bottom: 10px;
                font-size: 0.95rem;
                color: #444;
            }

            .info-line i {
                color: #69a94d;
                margin-right: 8px;
                width: 18px;
                text-align: center;
            }

            .observacao-box {
                margin-top: 12px;
                padding: 10px;
                border-left: 4px solid #69a94d;
                background: #f4f4f4;
                border-radius: 6px;
                font-size: 0.9rem;
                color: #333;
            }

            .site-link {
                display: inline-flex;
                align-items: center;
                margin-top: 12px;
                color: #1b6e3d;
                font-weight: 600;
                text-decoration: none;
                font-size: 0.95rem;
            }

            .site-link:hover {
                text-decoration: underline;
            }
        </style>

        <div class="empresa-card">

            <!-- Nome empresa -->
            <div class="empresa-nome">
                #{cc.attrs.empresa.getCampoByNomeOuAnotacao('nome').valor}
            </div>

            <!-- Telefone -->
            <div class="info-line">
                <i class="fa fa-phone"></i>
                #{cc.attrs.empresa.getCampoByNomeOuAnotacao('telefonePrincipal').valor}
            </div>

            <!-- Endereço -->
            <div class="info-line">
                <i class="fa fa-map-marker"></i>
                #{cc.attrs.empresa.getCampoByNomeOuAnotacao('endereco').valor}
            </div>

            <!-- Observação -->
            <div class="observacao-box">
                <b>Observação:</b><br/>
                <p:textEditor allowFormatting="false" secure="false" readonly="true"
                              toolbarVisible="false"
                              value="#{cc.attrs.empresa.observacao}"/>
            </div>

            <!-- Site -->
            <a class="site-link" href="#{cc.attrs.empresa.site}" target="sbext">
                <i class="fa fa-globe"></i> #{cc.attrs.empresa.site}
            </a>

        </div>

    </cc:implementation>
</ui:composition>
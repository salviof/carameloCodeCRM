<ui:composition
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:cc="http://java.sun.com/jsf/composite"
    xmlns:p="http://primefaces.org/ui"
    xmlns:CRM="http://xmlns.jcp.org/jsf/composite/crm"
    xmlns:SBInput="http://xmlns.jcp.org/jsf/composite/SBComp/composite/input"
    xmlns:SBAcaoNav="http://xmlns.jcp.org/jsf/composite/SBComp/composite/acoesENavegacao"
    xmlns:SBForm="http://xmlns.jcp.org/jsf/composite/SBComp/composite/formulario"
    xmlns:h="http://xmlns.jcp.org/jsf/html"

    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="empresa"
                      type="br.org.carameloCode.erp.modulo.crm.entidadesJPA.prospecto.Pessoa" required="true"/>
        <cc:attribute name="javascriptOnclick" default="" />

    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <h:panelGroup  style="position:absolute;bottom:  -10px; width: 100%;" class="" >

            <div style="height: 100%;" class="OrganizadorContainerEsquerda">
                <p:commandLink  actionListener="#{servicosCRM.exibirModalProspecto(cc.attrs.empresa,acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmAnexos)}"
                                onclick="#{cc.attrs.javascriptOnclick}"
                                >
                    <p:ajax event="click" listener="#{paginaAtual.comoPaginaComModal.onModalProspectoOpen}"
                            onstart="PF('empresablkcmd#{cc.attrs.empresa.id}').show()"
                            oncomplete="PF('empresablkcmd#{cc.attrs.empresa.id}').hide()"
                            />
                    <p:ajax event="dialogReturn"
                            listener="#{paginaAtual.comoPaginaComModal.onModalProspectoClose}"
                            onstart="PF('empresablkcmd#{cc.attrs.empresa.id}').show()"
                            oncomplete="PF('empresablkcmd#{cc.attrs.empresa.id}').hide()"
                            update="@this"
                            />
                    <h:panelGroup  styleClass="Container2" style="margin-left: 30px;margin-bottom: 7px;" >
                        <span class="fa-stack  has-badge" data-count="#{cc.attrs.empresa.getCampoInstanciadoByNomeOuAnotacao('quantidadeAnexos').valor}" >
                            <i class="#{acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmAnexos.icone} fa-stack-2x fa-inverse" style=" color: #b3b3b3"></i>
                        </span>
                    </h:panelGroup>
                </p:commandLink>
                <p:commandLink actionListener="#{servicosCRM.exibirModalProspecto(cc.attrs.empresa,acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmContatos)}"
                               onclick="#{cc.attrs.javascriptOnclick}"
                               >
                    <p:ajax event="click" listener="#{paginaAtual.comoPaginaComModal.onModalProspectoOpen}"
                            />
                    <p:ajax event="dialogReturn" listener="#{paginaAtual.comoPaginaComModal.onModalProspectoClose}" update="@form"
                            />
                    <h:panelGroup  styleClass="Container2" style="margin-left:30px;margin-bottom: 7px;" >
                        <span class="fa-stack  has-badge" data-count="#{cc.attrs.empresa.getCampoInstanciadoByNomeOuAnotacao('quantidadeContatos').valor}" >
                            <i class="#{acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmContatos.icone} fa-stack-2x fa-inverse" style=" color: #b3b3b3"></i>
                        </span>
                    </h:panelGroup>
                </p:commandLink>
                <p:commandLink actionListener="#{servicosCRM.exibirModalProspecto(cc.attrs.empresa,acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmExibirAtividades)}"
                               onclick="#{cc.attrs.javascriptOnclick}"
                               >
                    <p:ajax event="click" listener="#{paginaAtual.comoPaginaComModal.onModalProspectoOpen}"
                            />
                    <p:ajax event="dialogReturn" listener="#{paginaAtual.comoPaginaComModal.onModalProspectoClose}"
                            />

                    <h:panelGroup  styleClass="Container2" style="margin-left:30px;margin-bottom: 7px;" >
                        <span class="fa-stack  has-badge" data-count="#{cc.attrs.empresa.getCampoInstanciadoByNomeOuAnotacao('quantidadeAtividades').valor}" >
                            <i class="#{acoesAtendimentoCrm_ModalCrmMbProspectos.modalCrmFrmExibirAtividades.icone} fa-stack-2x fa-inverse" style=" color: #b3b3b3"></i>
                        </span>
                    </h:panelGroup>
                </p:commandLink>


                <p:link href="#{infoWebApp.getUrlDaAcao(acoesAtendimentoCrm_EmailsMbGestao.emailsFrmEmailsDoProspecto,cc.attrs.empresa)}"   >
                    <h:panelGroup  styleClass="Container2" style="margin-left:30px;margin-bottom: 15px;" >
                        <span class="fa-stack  has-badge" data-count="#{cc.attrs.empresa.getCampoInstanciadoByNomeOuAnotacao('quantidadeEmailsTrocados').valor}" >
                            <i class="#{acoesAtendimentoCrm_EmailsMbGestao.emailsMbGestao.icone} fa-stack-2x fa-inverse" style=" color: #b3b3b3;padding: 0px;"></i>
                        </span>
                    </h:panelGroup>
                </p:link>

            </div>

        </h:panelGroup>

    </cc:implementation>
</ui:composition>
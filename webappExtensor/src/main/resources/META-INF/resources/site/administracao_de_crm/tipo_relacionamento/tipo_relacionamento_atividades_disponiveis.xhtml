<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:SBInp="http://superbitsframework/ui"
    xmlns:SBInput="http://xmlns.jcp.org/jsf/composite/SBComp/composite/input"

    xmlns:SBAcaoNav="http://xmlns.jcp.org/jsf/composite/SBComp/composite/acoesENavegacao"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="#{layoutsPaginas.conteudoEmBranco.xhtmlVinculado}"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="conteudo">
        <h:form>
            <p:fragment >

                <SBAcaoNav:seletorDeAcoes
                    metodo="#{pgTipoRelacionamento.executarAcaoSelecionada()}"
                    opcoes="#{pgUtil.getAcoesEntidade(pgTipoRelacionamento.entidadeSelecionada, pgTipoRelacionamento.acoesRegistros)}"
                    visualizacaoBotao="#{layoutsComponenteSB.layoutBotoes.gigante}"
                    opcaoSelecionada="#{pgTipoRelacionamento.acaoSelecionada}"
                    update="@this"
                    />
            </p:fragment>
            <h:panelGroup layout="block"  styleClass="OrganizadorContainer Container12">

                <SBInput:input registro="#{pgTipoRelacionamento.entidadeSelecionada.getCampoByNomeOuAnotacao('nome')}"
                               label="Atividades disponíveis para" desabilitarEdicao="#{true}"  layout="#{layoutsComponenteSB.layoutCampo.superior}"/>



                <p:dataTable id="checkboxDT" var="item"
                             value="#{pgTipoRelacionamento.entidadeSelecionada.getCampoByNomeOuAnotacao('tiposAtividadeDisponiveis').comoSeltorItens.origem}"
                             selection="#{pgTipoRelacionamento.entidadeSelecionada.tiposAtividadeDisponiveis}" rowKey="#{item.id}"
                             widgetVar="tabelaTipoAtividade"
                             globalFilterOnly="true"
                             globalFilter=""
                             style="margin-bottom:0" paginator="true" rows="25" selectionPageOnly="false" >

                    <f:facet name="header" >
                        <div  class="container-fluid">
                            <div class="row" >
                                <div class="col-md-4 col-md-offset-4 " style="margin-top: 10px;margin-right: 0px " >
                                    Atividades para #{pgTipoRelacionamento.entidadeSelecionada.nome}
                                </div>
                                <div class="col-md-4 " style="margin-top: 5px; margin-bottom: 5px; " >
                                    <p:inputText id="globalFilter"
                                                 styleClass="inputGrande"
                                                 onkeyup="PF('tabelaDadosAtividade').filter()" style="width:100%"
                                                 placeholder="pesquise aqui" />
                                </div>
                            </div>
                        </div>
                    </f:facet>

                    <p:column selectionMode="multiple" exportable="false"  width="50px"  style="width:50px;text-align:center;"
                              sortable="true"   />

                    <p:column headerText="Icone">
                        <span class="#{item.icone} Fs100" style="color:##{item.cor}" />

                    </p:column>

                    <p:column headerText="Nome" filterBy="#{item.nomeAtividade}">
                        <h:outputText value="#{item.nomeAtividade}" />
                    </p:column>

                    <p:column headerText="Título" filterBy="#{item.nomeInicioAtivida}">
                        <h:outputText value="#{item.nomeInicioAtivida}" />
                    </p:column>


                    <p:column headerText="Editar dados">
                        <p:link  href="#{infoWebApp.getUrlDaAcao(acoesAdminCrm_TipoAtividadeMbGerenciar.tipoAtividadeFrmEditar,item)}" >
                            EDITAR
                        </p:link>

                    </p:column>

                </p:dataTable>



            </h:panelGroup>
            <div class="quebraBlocoComEspacoVertical110" />
            <h:panelGroup layout="block" styleClass="Container3 Fright"  >
                <SBAcaoNav:botaoDeAcao_Pagina acao="#{pgTipoRelacionamento.acaoSalvarAlteracoes}" tipoVisualizacao="#{layoutsComponenteSB.layoutBotoes.iconeENome}" />
            </h:panelGroup>

        </h:form>
    </ui:define>
</ui:composition>